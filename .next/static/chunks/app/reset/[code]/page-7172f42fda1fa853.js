(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5372],{869:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5155),r=s(6766),l=s(2115),i=s(5695),n=s(3464),o=s(9946);let c=(0,o.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),d=(0,o.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function u(){let{code:e}=(0,i.useParams)(),[t,s]=(0,l.useState)(""),[o,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[p,x]=(0,l.useState)(""),[w,g]=(0,l.useState)(""),[f,v]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),[j,N]=(0,l.useState)(!1),k=e=>/^(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{8,})/.test(e),C=async a=>{var r,l,i;if(a.preventDefault(),x(""),g(""),!e){x("Reset code is missing. Please use the reset link sent to your email.");return}if(!t){x("Please provide your email.");return}if(!k(o)){x("New password must be at least 8 characters, include one capital letter and one special character.");return}if(o!==m){x("New password and confirmation do not match.");return}v(!0);try{let a=await n.A.post("".concat("https://spa-backend-test.vercel.app/api","/auth/reset/").concat(e),{email:t,password:o}),l=(null===(r=a.data)||void 0===r?void 0:r.message)||"Password reset successfully. You may now log in.";g(l),s(""),u(""),h("")}catch(e){x((null===(i=e.response)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:l.message)||"Something went wrong. Please try again.")}finally{v(!1)}};return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsxs)("div",{className:"relative h-screen w-screen",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('/Images/spa.jpeg')"}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/60"}),(0,a.jsx)("div",{className:"absolute top-4 left-4 z-20",children:(0,a.jsx)("div",{className:"w-28 sm:w-36 md:w-40",children:(0,a.jsx)(r.default,{src:"/Images/logo.png",alt:"Logo",width:160,height:50,className:"w-full h-auto",priority:!0})})}),(0,a.jsx)("div",{className:"relative z-10 flex h-full w-full items-center justify-center px-4 sm:px-6",children:(0,a.jsxs)("div",{className:"w-full max-w-sm sm:max-w-md md:max-w-lg rounded-2xl bg-[#1E3B5C] p-6 sm:p-8 shadow-2xl",children:[(0,a.jsx)("h2",{className:"mb-6 text-center text-2xl font-semibold text-white",children:"Reset Password"}),p&&(0,a.jsx)("div",{className:"mb-4 rounded-md bg-red-100 px-4 py-2 text-sm text-red-700",children:p}),w&&(0,a.jsx)("div",{className:"mb-4 rounded-md bg-green-100 px-4 py-2 text-sm text-green-700",children:w}),(0,a.jsxs)("form",{className:"space-y-4",onSubmit:C,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white",children:"Email"}),(0,a.jsx)("input",{type:"email",value:t,onChange:e=>s(e.target.value),required:!0,className:"mt-1 w-full rounded-md bg-white border border-gray-300 px-3 py-2 text-black focus:outline-none focus:ring-2 focus:ring-[#289C9A]",placeholder:"you@example.com"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white",children:"New Password"}),(0,a.jsx)("input",{type:b?"text":"password",value:o,onChange:e=>u(e.target.value),required:!0,className:"mt-1 w-full rounded-md bg-white border border-gray-300 px-3 py-2 pr-10 text-black focus:outline-none focus:ring-2 focus:ring-[#289C9A]",placeholder:"••••••••"}),(0,a.jsx)("div",{onClick:()=>y(!b),className:"absolute top-9 right-3 cursor-pointer text-gray-600",children:b?(0,a.jsx)(c,{size:18}):(0,a.jsx)(d,{size:18})})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white",children:"Confirm New Password"}),(0,a.jsx)("input",{type:j?"text":"password",value:m,onChange:e=>h(e.target.value),required:!0,className:"mt-1 w-full rounded-md bg-white border border-gray-300 px-3 py-2 pr-10 text-black focus:outline-none focus:ring-2 focus:ring-[#289C9A]",placeholder:"••••••••"}),(0,a.jsx)("div",{onClick:()=>N(!j),className:"absolute top-9 right-3 cursor-pointer text-gray-600",children:j?(0,a.jsx)(c,{size:18}):(0,a.jsx)(d,{size:18})})]}),(0,a.jsx)("button",{type:"submit",disabled:f,className:"w-full flex justify-center items-center gap-2 rounded-md bg-[#289C9A] px-4 py-2 text-white hover:bg-[#207372] transition disabled:opacity-60 disabled:cursor-not-allowed",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4z"})]}),"Updating..."]}):"Update Password"})]})]})})]})})}},3273:(e,t,s)=>{Promise.resolve().then(s.bind(s,869))},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...o,width:r,height:r,stroke:s,strokeWidth:i?24*Number(l)/Number(r):l,className:n("lucide",c),...m},[...u.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:o,...d}=s;return(0,a.createElement)(c,{ref:l,iconNode:t,className:n("lucide-".concat(r(i(e))),"lucide-".concat(e),o),...d})});return s.displayName=i(e),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[3464,6766,8441,1684,7358],()=>t(3273)),_N_E=e.O()}]);